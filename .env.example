# Sourdough Docker Configuration
# Copy this file to .env and modify for your environment

# Host port for the application (change this to avoid conflicts with other apps)
APP_PORT=8080

# Application URL (backend and frontend). Used for API base URL in both Laravel and Next.js.
# IMPORTANT: Set this to your public-facing URL in production, especially behind a reverse proxy
# or Cloudflare Tunnel (e.g. https://yourdomain.com). This is used for OAuth callback URLs,
# password reset links, email verification links, and other URL generation.
# Dev defaults come from docker-compose.
# APP_URL=https://yourdomain.com

# =============================================================================
# Reverse Proxy / Cloudflare Tunnel
# =============================================================================

# Trusted proxies for forwarding headers (X-Forwarded-For, X-Forwarded-Proto, etc.)
# Set to * to trust all proxies (required for Cloudflare Tunnel, common with Docker/Traefik)
# Or comma-separated IPs (e.g. 172.16.0.0/12,192.168.0.0/16)
# TRUSTED_PROXIES=*

# Container name (change this if running multiple instances)
CONTAINER_NAME=sourdough-dev

# =============================================================================
# App Branding
# =============================================================================

# Application name displayed throughout the UI
NEXT_PUBLIC_APP_NAME=Sourdough

# Short name for collapsed states (1-3 characters recommended)
NEXT_PUBLIC_APP_SHORT_NAME=SD

# =============================================================================
# Volume Permissions (Unraid, Synology, etc.)
# =============================================================================

# Set PUID/PGID to match host volume ownership for proper file permissions
# Unraid default: PUID=99 PGID=100 (nobody:users)
# Synology default: PUID=1000 PGID=1000
# Leave empty to use container default (www-data, UID 33)
PUID=
PGID=

# =============================================================================
# Meilisearch (Search Engine)
# =============================================================================

# Meilisearch runs inside the app container. Master key for API (required in production; dev defaults to masterKey).
MEILI_MASTER_KEY=your-secure-master-key-here

# =============================================================================
# Mail (optional; configurable in app Email Configuration)
# =============================================================================
# Mailgun
MAILGUN_DOMAIN=
MAILGUN_SECRET=
MAILGUN_ENDPOINT=api.mailgun.net

# SendGrid
SENDGRID_API_KEY=

# =============================================================================
# Auth (optional; defaults in backend config/settings-schema.php)
# =============================================================================
# Passkey mode: disabled, optional, required (requires HTTPS in production)
# AUTH_PASSKEY_MODE=disabled

# =============================================================================
# Novu Notification Infrastructure (optional; configurable in app Configuration)
# =============================================================================
# When enabled, notifications are sent via Novu (Cloud or self-hosted).
# Leave empty to use the built-in notification system.
# NOVU_ENABLED=false
# NOVU_API_KEY=
# NOVU_APP_IDENTIFIER=
# NOVU_API_URL=https://api.novu.co
# NOVU_SOCKET_URL=https://ws.novu.co

# =============================================================================
# Internal API (optional; used by server-side Next.js routes)
# =============================================================================
# Absolute URL for server-side fetches inside the container (e.g. dynamic PWA manifest).
# Defaults to http://127.0.0.1:80 which hits Nginx in the single-container setup.
# Only change this if Nginx listens on a non-standard port.
# INTERNAL_API_URL=http://127.0.0.1:80
